!function(e){var t={};function o(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(r,l,function(t){return e[t]}.bind(null,l));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=538)}({538:function(e,t,o){"use strict";o.r(t);var r=function(){function e(e){this.editor=e;var t=e.settings.colorPalette;this.modules=t&&t.module||["preset"],this.defaultColor=t&&t.default_color,this.blackTextColorBackgroundColor=t&&t.black_text_color_background,this.presetMap=t&&t.color_map_preset}return e.prototype.init=function(e){this.panel=e,this.format=e.parent().settings.format,this.addEvent()},e.prototype.addEvent=function(){var e=this,t=this.editor.$,o=this.panel.$el[0],r=this.panel.parent(),l="hilitecolor"===this.format?"hilite-":"forecolor-";if(this.modules.includes("preset")&&t("."+l+"colorPalette-preset-td",o).on("click",this.clickEventHandler.bind(this)),this.modules.includes("palette")&&t("."+l+"colorPalette-palette-td",o).on("click",this.clickEventHandler.bind(this)),this.modules.includes("code")){var i=t(".colorPalette-code-input",o),a=i[0],n=(t(".colorPalette-code-display",o),t(".colorPalette-code-submit",o)),c=function(t){"#"!==(t=t.trim()).charAt(0)||7!=t.length&&4!=t.length||e.isValidHexCode(t)&&(e.applyFormat(e.format,t),r.hidePanel())};i.on("keyup",function(e){13===e.keyCode&&c(a.value)}),n.on("click",function(){c(a.value)})}},e.prototype.applyFormat=function(e,t){if(this.editor.execCommand("mceApplyTextcolor",e,t),"forecolor"===e)this.panel.parent().color(t);else if("hilitecolor"===e){this.panel.parent().color(t);var o=this.panel.parent(),r=this.editor.$("i",o.$el[0]);this.blackTextColorBackgroundColor.includes(t)?r.removeClass("white-text"):r.addClass("white-text")}this.editor.nodeChanged()},e.prototype.removeFormat=function(e){if(this.editor.execCommand("mceRemoveTextcolor",e),"forecolor"===e)this.panel.parent().color(this.defaultColor);else if("hilitecolor"===e){this.panel.parent().color("#fff");var t=this.panel.parent();this.editor.$("i",t.$el[0]).removeClass("white-text")}this.editor.nodeChanged()},e.prototype.clickEventHandler=function(e){var t=this;this.hide();var o=e.currentTarget.getAttribute("data-mce-color");""===o?this.editor.undoManager.transact(function(){t.removeFormat(t.format)}):this.editor.undoManager.transact(function(){t.applyFormat(t.format,o)})},e.prototype.convertToHexCode=function(e){return e?"#"+/rgb\((\d*), (\d*), (\d*)\)/gi.exec(e).slice(1).reduce(function(e,t){var o=parseInt(t).toString(16);return o.length%2&&(o="0"+o),e+o},"").toLowerCase():"forecolor"===this.format?this.defaultColor:""},e.prototype.isValidHexCode=function(e){var t=e.length;if(4===t||7===t){if("#"!==e[0])return!1;for(var o=1;o<t;o++){var r=e[o].toLowerCase();if(!(0<=r&&r<=9||"a"<=r&&r<="f"))return!1}return!0}return!1},e.prototype.getSpanColor=function(){for(var e,t=this.editor.selection.getSel().anchorNode,o=0,r=this.editor.dom.getParents(t,"span");o<r.length;o++){var l=r[o];if("forecolor"===this.format&&"_mce_caret"!==l.id&&l.style&&l.style.color){e=l;break}if("hilitecolor"===this.format&&"_mce_caret"!==l.id&&l.style&&l.style.backgroundColor){e=l;break}}var i="forecolor"===this.format?this.defaultColor:"#ffffff";return e&&(i="forecolor"===this.format?e.style.color:e.style.backgroundColor,i=this.convertToHexCode(i)),i},e.prototype.show=function(){var e=this.getSpanColor();this.showSelectedColor(e),this.showCustomColor(e)},e.prototype.showSelectedColor=function(e){var t=this.editor.$.find("#colorPalette-"+this.format+"-preset-id-"+this.presetMap.indexOf(e))[0];t&&t.classList.add("colorPalette-selected")},e.prototype.showCustomColor=function(e){var t=this.panel.$el[0],o=this.editor.$(".colorPalette-code-display",t)[0],r=this.editor.$(".colorPalette-code-input",t)[0];o&&(o.style.backgroundColor=e),r&&(r.value=e)},e.prototype.hide=function(){this.panel.hide(),this.editor.$(".colorPalette-selected",this.panel.$el[0]).removeClass("colorPalette-selected")},e}(),l=function(e,t){var o=e.module,r=e.color_map_preset,l=e.color_map_palette,i=e.preset_rows,a=e.preset_cols,n=e.palette_rows,c=e.palette_cols,s="hilitecolor"===t?"hilite-colorPalette-preset-td":"forecolor-colorPalette-preset-td",d="";if(o.includes("preset")){d+="<div class='colorPalette-div colorPalette-div-preset'><table class='colorPalette-preset-table'>";for(var u=0;u<i;u++){d+="<tr class='colorPalette-preset-tr'>";for(var f=0;f<a;f++){d+="<td class='colorPalette-preset-td "+s+(""===(p=r[u*a+f])?" remove-format":"")+(e.black_text_color_background&&e.black_text_color_background.includes(p)?" white-color-format":"")+"' id=colorPalette-"+t+"-preset-id-"+(u*a+f)+" style='background:"+p+"' data-mce-color="+p+"><span class='colorPalette-preset-check'></span></td>"}d+="</tr>"}d+="</table></div>"}if(o.includes("palette")){d+="<div class='colorPalette-div colorPalette-div-palette'><table class='colorPalette-palette-table'>";for(u=0;u<n;u++){d+="<tr class='colorPalette-palette-tr'>";for(f=0;f<c;f++){var p;d+="<td class='colorPalette-palette-td "+s+(""===(p=l[u*c+f])?" remove-format":"")+(e.black_text_color_background&&e.black_text_color_background.includes(p)?" white-color-format":"")+"' id=colorPalette-"+t+"-palette-id-"+(14*u+f)+" style='background:"+p+";' data-mce-color="+p+"></td>"}d+="</tr>"}d+="</table></div>"}return o.includes("code")&&(d+="<div class='colorPalette-div colorPalette-div-code'>",d+="<div class='colorPalette-code-display'></div><input maxlength='7' class='colorPalette-code-input'></input><button class='colorPalette-code-submit'>입력</button></div>"),d},i=function(e){var t=e.settings.colorPalette,o=t&&t.hilite,i=t&&t.align,a=new r(e),n=new r(e),c=function(){return function(){var o=this;e.on("nodeChange",function(){for(var r,l=e.selection.getSel().anchorNode,i=e.dom.getParents(l,"span"),n=o.settings.format,c=0,s=i;c<s.length;c++){var d=s[c];if("forecolor"===n&&"_mce_caret"!==d.id&&d.style&&d.style.color){r=d;break}if("hilitecolor"===n&&"_mce_caret"!==d.id&&d.style&&d.style.backgroundColor){r=d;break}}var u="forecolor"===n?t.default_color:"#ffffff";r&&(u="forecolor"===n?r.style.color:r.style.backgroundColor,u=a.convertToHexCode(u)),o.color(u);var f=e.$("i",o.$el[0]);"hilitecolor"===n&&t&&t.black_text_color_background&&(t.black_text_color_background.includes(u)?f.removeClass("white-text"):f.addClass("white-text"))})}};e.addButton("colorPalette",{icon:"forecolor",classes:"forecolor",format:"forecolor",type:"colorbutton",tooltip:"글자색",popoverAlign:"center"===i?["bc-tc"]:["bc-tl"],panel:{role:"dialog",ariaRemember:!0,html:l(t,"forecolor"),onPostRender:function(e){this.fixed(!0),a.init(this)}},onclick:function(){this.classes.contains("opened")?this.hidePanel():this.showPanel(),n.panel&&n.hide()},onPostRender:c(),onshow:function(){a.show()},onhide:function(){a.hide()}}),o&&e.addButton("backColorPalette",{icon:"hilitecolor",classes:"hilitecolor",format:"hilitecolor",type:"colorbutton",tooltip:"배경색",popoverAlign:"center"===i?["bc-tc"]:["bc-tl"],panel:{role:"dialog",ariaRemember:!0,html:l(t,"hilitecolor"),onPostRender:function(e){this.fixed(!0),n.init(this)}},onclick:function(){this.classes.contains("opened")?this.hidePanel():this.showPanel(),a.panel&&a.hide()},onPostRender:c(),onshow:function(){n.show()},onhide:function(){n.hide()}})};(window.tinymce||{}).PluginManager.add("colorPalette",i)}});
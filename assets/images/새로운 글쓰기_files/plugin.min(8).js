!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=452)}({212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidHref=e.makeValidHref=e.isTelFormat=e.trimCaretContainers=e.getAnchorText=e.getAnchorElement=void 0;var i=n(455),o=(e.getAnchorElement=function(t){var e=t.selection.getNode()||t.selection.getStart();return t.dom.getParent(e,"a[href]")},e.getAnchorText=function(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"});return o(n)},e.trimCaretContainers=function(t){return t.replace(/\uFEFF/g,"")}),r=(e.isTelFormat=function(t){return(0,i.isTel)(t)},e.makeValidHref=function(t){return(0,i.isUrl)(t)||(0,i.isTel)(t)||(0,i.isMailto)(t)?t:(0,i.isUrl)("http://"+t)?"http://"+t:(0,i.isEmail)(t)?"mailto:"+t:""});e.isValidHref=function(t){return""!==r(t)}},28:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){var o=n.value;if("function"!=typeof o)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(i(o)));var r=!1;return{configurable:!0,get:function(){if(r||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof o)return o;var n=o.bind(this);return r=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return n},set:function(t){o=t,delete this[e]}}),r=!1,n},set:function(t){o=t}}}function r(t){var e;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(e){if("constructor"!==e){var n=Object.getOwnPropertyDescriptor(t.prototype,e);"function"==typeof n.value&&Object.defineProperty(t.prototype,e,o(t,e,n))}}),t}function l(){return 1===arguments.length?r.apply(void 0,arguments):o.apply(void 0,arguments)}n.r(e),n.d(e,"boundMethod",function(){return o}),n.d(e,"boundClass",function(){return r}),n.d(e,"default",function(){return l})},452:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(453));tinymce.PluginManager.add("klink",i.default)},453:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(454)),o=a(n(456)),r=a(n(457)),l=n(458);function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=tinymce.util.Tools.resolve("tinymce.util.Delay"),n=(t.$,t.settings.klink),a=n&&n.is_panel,u=n&&n.align||"left";n&&n.auto_link&&(0,l.autoLinkInit)(t);if(a){var s=new r.default(t);t.addButton("klink",{icon:"link",type:"panelbutton",tooltip:"Insert/edit link",popoverAlign:"center"===u?["bc-tc"]:["bc-tl"],stateSelector:"a",disabledStateSelector:"img, figure, iframe, div, figcaption, pre, td",panel:{role:"dialog",html:(0,o.default)(),onPostRender:function(){this.fixed(!0)}},onPostRender:function(t){return function(n){var i=n.control,o=i.settings.disabledStateSelector;t.shortcuts.add("meta+k","",function(){i.disabled()||i.showPanel()}),t.on("nodeChange mouseup keyUp",e.throttle(function(){if(o){var e=!1,n=t.selection.getNode();t.dom.is(n,o)&&(e=!0),i.disabled(e)}},0))}}(t),onshow:function(){s.open(this.panel)},onhide:function(){s.removeEvent(),t.focus()}})}else{var c=new i.default(t);t.addCommand("klink",function(){c.open()}),t.addButton("klink",{cmd:"klink",icon:"link",tooltip:"Insert/edit link",stateSelector:"a"}),t.shortcuts.add("meta+k","open link","klink")}}},454:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(28)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(212));function a(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(t){r[t]=i[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var u=(a((i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.container=null}return o(t,[{key:"open",value:function(){this.makeWindow(),this.setEvent(),this.setData(),this.checkStatus(),this.$url[0].focus()}},{key:"makeWindow",value:function(){var t=this.editor.windowManager.open({title:"Insert/edit link",items:[{type:"container",html:'<div class="keditor-dialog" style="width:360px; height:350px">\n\t\t\t\t\t<form class=\'keditor-form klink-form\'>\n\t\t\t\t\t\t<div class="body">\n\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t<b class="form-label">URL</b>\n\t\t\t\t\t\t\t\t<input ref="url" type="text" class="form-text klink-url" placeholder="http://" />\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t<b class="form-label">링크 텍스트</b>\n\t\t\t\t\t\t\t\t<input type="text" class="form-text klink-text" placeholder="" />\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t<input type="checkbox" class="form-checkbox klink-linknew" checked="checked" />\n\t\t\t\t\t\t\t\t<span class="checkbox-text">새창으로 열기</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="footer">\n\t\t\t\t\t\t\t<button type="reset" class="btn btn-cancel">취소</button>\n\t\t\t\t\t\t\t<button type="submit" class="btn btn-default">확인</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n        </div>'}],buttons:[]});t.statusbar.remove(),this.$form=t.$(".klink-form"),this.$url=t.$(".klink-url"),this.$text=t.$(".klink-text"),this.$linknew=t.$(".klink-linknew"),this.$btnSubmit=t.$(".btn-default"),this.$btnCancel=t.$(".btn-cancel"),this.$window=t.$(window),this.$modalBlock=t.$("#mce-modal-block"),this.win=t}},{key:"setEvent",value:function(){this.$form.on("submit",this.onSubmit),this.$form.on("reset",this.onCancel),this.$url.on("keydown",this.checkStatus),this.$window.on("keydown",this.onWindowKeydown),this.$modalBlock.on("click",this.onCancel)}},{key:"setData",value:function(){var t=l.getAnchorElement(this.editor),e=this.editor.dom;t&&(this.$url[0].value=e.getAttrib(t,"href"),this.$linknew[0].checked="_blank"===e.getAttrib(t,"target")),this.$text[0].value=l.getAnchorText(this.editor.selection,t)}},{key:"checkStatus",value:function(){var t=this.$url[0].value;l.isValidHref(t)?this.$btnSubmit.removeAttr("disabled"):this.$btnSubmit.attr("disabled",!0)}},{key:"onSubmit",value:function(t){t.preventDefault();var e=this.$url[0].value;if(l.isValidHref(e)){var n=this.editor,i=l.makeValidHref(e),o=this.$linknew[0].checked,r=this.$text[0].value,a=l.getAnchorElement(n),u={href:i,target:o?"_blank":null};a?n.undoManager.transact(function(){n.focus(),r&&("innerText"in a?a.innerText=r:a.textContent=r),n.dom.setAttribs(a,u),n.selection.select(a),n.undoManager.add()}):r?n.insertContent(n.dom.createHTML("a",u,n.dom.encode(r))):n.execCommand("mceInsertLink",!1,u),this.close()}}},{key:"onCancel",value:function(t){this.close()}},{key:"onWindowKeydown",value:function(t){27===t.keyCode&&this.close()}},{key:"close",value:function(){this.win&&(this.$form.off("submit"),this.$form.off("reset"),this.$url.off("change"),this.$window.off("keydown"),this.$modalBlock.off("click"),this.win.close(),this.$form=null,this.$url=null,this.$text=null,this.$linknew=null,this.$btnSubmit=null,this.$btnCancel=null,this.$window=null,this.$modalBlock=null)}}]),t}()).prototype,"checkStatus",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"checkStatus"),i.prototype),a(i.prototype,"onSubmit",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onSubmit"),i.prototype),a(i.prototype,"onCancel",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onCancel"),i.prototype),a(i.prototype,"onWindowKeydown",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onWindowKeydown"),i.prototype),i);e.default=u},455:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.number_format=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return void 0!==t?Number(t).toLocaleString():e},e.isUrl=function(t){return null!==(""+t).match(/^https?:\/\/.+\..+/)},e.isTel=function(t){var e=(""+t).match(/^tel:\d{2,5}(-\d{2,5}){0,3}/);return null!==e&&e[0]===t},e.isEmail=function(t){return null!==(""+t).match(/[^@]+@[^@]+\.[^@]+/)},e.isMailto=function(t){return null!==(""+t).match(/mailto:[^@]+@[^@]+\.[^@]+/)},e.url_format=function(t){return(""+t).replace(/^https?:\/\//,"")},e.ipMasking=function(t){return t.replace(/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,function(t,e,n,i,o){return e+"."+n+".***."+o})}},456:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return'<div class="keditor-klink-panel keditor-link-panel" style="width: 322px;">\n      <form class=\'keditor-form klink-form\'>\n        <div class="body">\n          <label class="form-field">\n            <input ref="url" type="text" class="form-text klink-url" placeholder="URL" />\n          </label>\n        </div>\n        <div class="footer">\n          <label class="form-field">\n            <input id="kLinkOpenNewWindowCheckbox" type="checkbox" class="form-checkbox klink-linknew" checked="checked" />\n            <label for="kLinkOpenNewWindowCheckbox" class="checkbox-text">새창으로 열기</label>\n          </label>\n          <button id="klink-unlink" type="button" class="btn btn-unlink" disabled>링크해제</button>\n          <button id="klink-submit" type="submit" class="btn btn-default">확인</button>\n        </div>\n      </form>\n    </div>'}},457:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(28)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(212));function a(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(t){r[t]=i[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var u=(a((i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e}return o(t,[{key:"open",value:function(t){this.rng=this.editor.selection.getRng(),this.makePanelItem(t),this.setEvent(),this.setData(),this.checkStatus(),this.$url[0].select()}},{key:"makePanelItem",value:function(t){var e=window.parent.document,n=this.editor;this.panel=t,this.$btn=n.$(".keditor-klink-panel .klink-linknew",e),this.$btnText=n.$(".keditor-klink-panel .checkbox-text",e),this.$url=n.$(".keditor-klink-panel .klink-url",e),this.$submit=n.$(".keditor-klink-panel #klink-submit",e),this.$form=n.$(".keditor-klink-panel .klink-form",e),this.$unlink=n.$(".keditor-klink-panel #klink-unlink",e)}},{key:"setEvent",value:function(){this.$btn.on("click",function(t){t.stopPropagation()}),this.$btnText.on("click",function(t){t.stopPropagation()}),this.$url.on("keyup",this.checkStatus),this.$submit.on("click",this.onSubmit),this.panel.on("keydown",this.onWindowKeydown),this.$form.on("reset",this.onCancel),this.$unlink.on("click",this.onUnlink)}},{key:"removeEvent",value:function(){this.$btn.off("click"),this.$btnText.off("click"),this.$url.off("keyup"),this.$submit.off("click"),this.panel.off("keydown"),this.$form.off("reset"),this.$unlink.off("click"),this.$unlink[0].disabled=!0}},{key:"setData",value:function(){var t=l.getAnchorElement(this.editor),e=this.editor.dom,n="",i=!0;t&&(n=e.getAttrib(t,"href"),i="_blank"===e.getAttrib(t,"target"),this.$unlink[0].disabled=!1),this.$url[0].value=n,this.$btn[0].checked=i}},{key:"checkStatus",value:function(){var t=this.$url[0].value;l.isValidHref(t)?(this.$submit.removeAttr("disabled"),l.isTelFormat(t)?(this.$btn[0].checked=!1,this.$btn[0].disabled=!0):this.$btn[0].disabled=!1):(this.$submit.attr("disabled",!0),this.$btn[0].disabled=!0,this.$btn[0].checked=!0)}},{key:"onSubmit",value:function(t){t.preventDefault();var e=this.$url[0].value;if(l.isValidHref(e)){var n=this.editor,i=l.makeValidHref(e),o=this.$btn[0].checked,r=l.getAnchorElement(n),a={href:i,target:o?"_blank":null};if(r)n.undoManager.transact(function(){n.focus(),n.dom.setAttribs(r,a),n.selection.select(r),n.undoManager.add()});else if(this.rng.collapsed){n.focus(),n.selection.setRng(this.rng);var u=o?' target="_blank"':"";n.insertContent('<a href="'+i+'"'+u+' rel="noopener" data-mce-href="'+i+'">'+i+"</a>")}else n.focus(),n.selection.setRng(this.rng),n.execCommand("mceInsertLink",!1,a);this.panel.hide()}}},{key:"onCancel",value:function(t){this.panel.hide()}},{key:"onUnlink",value:function(t){var e=this.editor;l.getAnchorElement(e)?e.undoManager.transact(function(){e.focus(),e.execCommand("Unlink")}):(e.focus(),e.selection.setRng(this.rng),e.execCommand("Unlink",!1)),this.panel.hide()}}]),t}()).prototype,"checkStatus",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"checkStatus"),i.prototype),a(i.prototype,"onSubmit",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onSubmit"),i.prototype),a(i.prototype,"onCancel",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onCancel"),i.prototype),a(i.prototype,"onUnlink",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onUnlink"),i.prototype),i);e.default=u},458:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){for(var e=t.selection.getNode(),n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];"#text"!==i.nodeName&&"bookmark"===i.getAttribute("data-mce-type")&&t.dom.remove(i)}var o=t.selection.getBookmark();e.innerHTML=e.innerHTML;var r=e.innerHTML;r=r.replace(/(<span.*?data-mce-type="bookmark".*?><\/span>($|<br data-mce-bogus="1">))/gi,function(){return"&nbsp;"+(arguments.length<=1?void 0:arguments[1])}),e.innerHTML=r,t.undoManager.add(),r=(r=e.innerHTML).replace(/([\s]{1}|^)((https?:\/\/)?[www\.]?[-a-zA-Z0-9가-힣@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9가-힣@:%_\+.~#?&\/\/=\(\)\[\]!$'*,;]*))/gi,function(){var t=!!(arguments.length<=1?void 0:arguments[1]),e=arguments.length<=2?void 0:arguments[2],n=e,i=t?" ":"";/https?:\/\//gi.test(e)||(n="http://"+e);var o=n.indexOf("&nbsp;");return i+=o>-1?'<a href="'+n.slice(0,o)+'">'+e.slice(0,o)+"</a>&nbsp;":'<a href="'+n+'">'+e+"</a>"}),e.innerHTML=r;t.dom.select("span[data-mce-type=bookmark]")[0];t.selection.moveToBookmark(o),t.undoManager.add()};e.autoLinkInit=function(t){t.on("keydown",function(e){var n=t.selection.getNode();if(t.dom.is(n,"p, h1, h2, h3, b, i, strong, em, span, s, td")){var o=/([\s]{1}|^)((www\.)|(m\.)|(http:\/\/)|(https:\/\/))[-a-zA-Z0-9가-힣@:%._\+~#=]{2,256}\.[a-z]{2,6}\b[-a-zA-Z0-9가-힣@:%_\+.~#?&\/\/=\(\)\[\]!$'*,;]*/g;32===e.keyCode||"Space"===e.code&&"Process"===e.key?o.test(n.innerHTML)&&(i(t),e.preventDefault()):13===e.keyCode&&o.test(n.innerHTML)&&i(t)}})}}});